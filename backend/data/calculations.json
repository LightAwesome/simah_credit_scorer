{
  "sections": [
    {
      "name": "Traditional Score",
      "weight": 35,
      "max_points": 350,
      "calculations": [
        {
          "name": "SIMAH Score",
          "formula": "({credit_score from main 'CREDIT SCORE:' heading} / 900) * 200",
          "max_points": 200
        },
        {
          "name": "Credit History",
          "formula": "MIN((CURRENT_DATE - {first_account_date from 'Credit Report Summary' table 'First Account Issue Date'}) / 60, 1) * 50",
          "max_points": 50
        },
        {
          "name": "Payment History",
          "formula": "IF({late_payments_12m from 'Payment Status' columns in 'Active Products Summary' and 'Payment Status For Last 24 Months'} > 0, (1 - ({late_payments_12m} / {total_payments_12m from same payment status sources})) * 100, 100)",
          "max_points": 100
        }
      ]
    },
    {
      "name": "Income & Employment",
      "weight": 30,
      "max_points": 403.33,
      "calculations": [
        {
          "name": "Income Level",
          "formula": "IF({monthly_income from 'Employment Information' 'Total Salary' divided by 12} >= 20000, 150, IF({monthly_income} >= 15000, 120, IF({monthly_income} >= 10000, 90, IF({monthly_income} >= 7000, 60, IF({monthly_income} >= 5000, 30, 0)))))",
          "max_points": 150
        },
        {
          "name": "Employment Stability",
          "formula": "MIN({employment_duration_months from 'Employment Information' 'Date Of Employment' to current date} / 24, 1) * 80",
          "max_points": 80
        },
        {
          "name": "Employer Type",
          "formula": "IF({employer_classification based on 'Employment Information' 'Employer' name - classify as government/large_corp/medium_corp/small_corp/self_employed} = 'government', 40, IF({employer_classification} = 'large_corp', 35, IF({employer_classification} = 'medium_corp', 25, IF({employer_classification} = 'small_corp', 15, IF({employer_classification} = 'self_employed', 5, 0)))))",
          "max_points": 40
        },
        {
          "name": "DTI Ratio",
          "formula": "(1 - MIN(({total_installments from sum of 'Installment Amount' in 'Active Products Summary'} + {proposed_monthly_payment for new loan}) / {monthly_income}, 0.6)) * 133.33",
          "max_points": 133.33
        }
      ]
    },
    {
      "name": "Alternative Data",
      "weight": 20,
      "max_points": 100,
      "calculations": [
        {
          "name": "Bank Account Age",
          "formula": "IF({oldest_account_age_months from 'First Account Issue Date' in 'Credit Report Summary'} >= 36, 25, IF({oldest_account_age_months} >= 24, 20, IF({oldest_account_age_months} >= 12, 15, IF({oldest_account_age_months} >= 6, 10, 5))))",
          "max_points": 25
        },
        {
          "name": "Average Monthly Balance",
          "formula": "IF({average_monthly_balance estimated from 'Credit Limit' minus 'Outstanding Balance' in 'Active Products Summary'} >= 50000, 20, IF({average_monthly_balance} >= 20000, 15, IF({average_monthly_balance} >= 10000, 10, IF({average_monthly_balance} >= 5000, 5, 0))))",
          "max_points": 20
        },
        {
          "name": "Regular Salary Deposits",
          "formula": "IF({regular_salary_deposits set TRUE if 'Salary Assignment' in 'Product Details' or employment data present} = TRUE, 15, 5)",
          "max_points": 15
        },
        {
          "name": "Savings Ratio",
          "formula": "IF(({available_credit from sum of 'Credit Limit' minus 'Outstanding Balance'} - {monthly_expenses from sum of 'Installment Amount'}) / {monthly_income} > 0.2, 20, IF((({available_credit} - {monthly_expenses}) / {monthly_income}) > 0.1, 15, IF((({available_credit} - {monthly_expenses}) / {monthly_income}) > 0.05, 10, IF((({available_credit} - {monthly_expenses}) / {monthly_income}) > 0, 5, 0))))",
          "max_points": 20
        },
        {
          "name": "Overdrafts",
          "formula": "IF({overdrafts_12m from 'Bounced Cheques' table and 'Late' statuses in 'Active Products Summary'} = 0, 20, IF({overdrafts_12m} <= 2, 15, IF({overdrafts_12m} <= 5, 10, 0)))",
          "max_points": 20
        }
      ]
    },
    {
      "name": "Demographics",
      "weight": 15,
      "max_points": 120,
      "calculations": [
        {
          "name": "Age Factor",
          "formula": "IF({age calculated from 'Personal Information' 'Date Of Birth' to current date} < 21, 0, IF({age} <= 30, (({age} - 21) / 9) * 30 + 20, IF({age} <= 50, 50, IF({age} <= 65, 50 - (({age} - 50) / 15) * 20, 30))))",
          "max_points": 50
        },
        {
          "name": "Marital and Dependents",
          "formula": "IF({marital_status from 'Personal Information' 'Marital Status'} = 'married', 20, IF({marital_status} = 'single', 15, 10)) + IF({number_of_dependents default to 0 if not available} = 0, 10, IF({number_of_dependents} <= 2, 5, IF({number_of_dependents} >= 5, -5, 0)))",
          "max_points": 30
        },
        {
          "name": "Geographical Stability",
          "formula": "IF({residence_type inferred from 'Addresses' table address history} = 'owned', 25, IF({residence_type} = 'family', 20, IF({residence_type} = 'long_rental', 15, IF({residence_type} = 'short_rental', 10, 5)))) + IF({city_tier based on 'Personal Information' 'City' - major cities like Riyadh/Jeddah = tier1} = 'tier1', 15, IF({city_tier} = 'tier2', 10, 5))",
          "max_points": 40
        }
      ]
    },
    {
      "name": "Vehicle Factors",
      "weight": 10,
      "max_points": 110,
      "calculations": [
        {
          "name": "LTV Ratio",
          "formula": "(1 - ({auto_loan_outstanding_balance from Auto Loan row 'Outstanding Balance' in 'Active Products Summary'} / {auto_loan_original_amount from Auto Loan 'Credit Limit'})) * 40",
          "max_points": 40
        },
        {
          "name": "Vehicle Type",
          "formula": "IF({vehicle_category classified from Auto Loan 'Creditor' name as luxury/premium/mainstream/budget} = 'luxury', 30, IF({vehicle_category} = 'premium', 25, IF({vehicle_category} = 'mainstream', 20, IF({vehicle_category} = 'budget', 15, 5)))) + IF({vehicle_age_years estimated from Auto Loan account age} <= 1, 10, IF({vehicle_age_years} <= 3, 5, IF({vehicle_age_years} > 5, -5, 0)))",
          "max_points": 40
        },
        {
          "name": "Down Payment",
          "formula": "MIN(({auto_loan_down_payment estimated from vehicle value minus financed amount - data may not be available} / {auto_loan_original_amount}) / 0.2, 1) * 30",
          "max_points": 30
        }
      ]
    }
  ],
  "Overall Credit Score": "sum of (all the sections) * (weight of the section) / 100"
}